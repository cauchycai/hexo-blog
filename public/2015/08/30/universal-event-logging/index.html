<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>机械式的工作与生活日志纪录 | 追客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="stylesheet" href="/css/app.css">
  <!-- <link rel='stylesheet' href='http://fonts.useso.com/css?family=Source+Code+Pro'> -->
</head>

<body>
  <nav class="app-nav">
  
    
      <a href="/.">home</a>
    
  
    
      <a href="/archives">archive</a>
    
  
    
      <a href="/about">about</a>
    
  
    
      <a href="/atom.xml">rss</a>
    
  
</nav>

  <main class="post">
  <article>
  <h1 class="article-title">
    <a href="/2015/08/30/universal-event-logging/">机械式的工作与生活日志纪录</a>
  </h1>

  <section class="article-meta">
    <p class="article-date">August 30 2015</p>
  </section>

  <section class="article-entry">
    <p>计算机系统的软件通常都有各自的日志文件。比如 Web 服务器 nginx 有如下格式的访问日志：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">127.0.0.1 - - [13/Aug/2015:22:59:14 +0800] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/600.7.12 (KHTML, like Gecko) Version/8.0.7 Safari/600.7.12&quot;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">127.0.0.1 - - [13/Aug/2015:22:59:51 +0800] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/600.7.12 (KHTML, like Gecko) Version/8.0.7 Safari/600.7.12&quot;</div></pre></td></tr></table></figure>
<p>这种日志有精确的格式：每一条日志占用一行，纪录的内容依次按照严格的顺序，依次是访问客户端的IP、访问的时间、请求的地址和协议、请求的返回码、请求的长度、等等。</p>
<p>这种精确的格式带来的好处是方便机器（程序）阅读。我们可以方便的编写程序读取日志文件，从中找出一段时间内的日志，或者找出某一个IP的所有访问日志。对于某一类的信息，我们可以编写一个程序将日志内容进行过滤，以后就可以反复运行这个程序查看这一个特定的信息。方便我们查找问题和分析数据中隐藏的内在规律。总之，可以让我们更了解系统的运行情况。</p>
<p>我们人类在工作和生活也很有必要使用类似的一种日志纪录方式。我列举几种可以纪录的日志内容：</p>
<ul>
<li><p>与某一个客户沟通后确定的事项，纪录时应该区分是哪个一个客户、沟通的时间、与谁沟通、确定了什么事项等；</p>
</li>
<li><p>一个软件项目最近上线的新特性，纪录项目名称、上线时间、开发者、功能名称等；</p>
</li>
<li><p>工作日志，帮同事做了某个小任务、写了什么文档、完成了某一个项目中某一个功能的开发、等等；</p>
</li>
<li><p>生活日志，每天运动量、做了哪一项练习？、入睡和起床的时间、到公司的时间、下班时间、理发、甚至今天发现了某个好玩的事物或好吃的食物</p>
</li>
</ul>
<p>还有很多尚未想到的。</p>
<p>日志的格式可以是这样的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[2015-08-30 10:24:20] [api] task:&quot;员工消费纪录接口实现&quot; status:&quot;START&quot; remark:&quot;&quot;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[2015-08-30 14:24:20] [api] task:&quot;员工消费纪录接口实现&quot; status:&quot;DONE&quot; remark:&quot;代码作了重构，需完整测试&quot;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[2015-08-30 20:24:20] [sleep] start:&quot;2015-08-29 23:00:00&quot;</div></pre></td></tr></table></figure>
<p>第一段是时间，第二段是类别。每一种工作都有一个独有的类别，比如 sleep 是我记录睡眠情况的日志，而 api 是记录”开放平台接口”项目的工作日志。</p>
<p>所有类型的纪录都首先写入同一个文件中，然后有一个脚本定期（比如每日）抽取其中的不同类别，写入到不同的文件中。这样做的好处是，“写”这个动作可以做到最简化。我只需在我的编辑器中绑定一个快捷键，即可随时写任何类型的日志。</p>
<p>把大脑从这些重复性的动作中解放出来。于是我也许就有了自己的第一个秘书了。</p>

  </section>
</article>

  <div class="sharing grid">
  <section class="profile grid-item grid">
    <img class="avatar" src="http://7xrcp8.com1.z0.glb.clouddn.com/avatar.png" alt="avatar" />
    <div class="grid-item">
      <p class="title"> 追客 </p>
      <p class="subtitle"> You are the JavaScript in my HTML </p>
    <div>
  </section>

  <section class="share-btns">
    <!-- <p> share it if you like it~ </p> -->
    <a
  class="twitter-share-button"
  data-size="large"
  data-via="DrakeLeung"
  href="https://twitter.com/intent/tweet?text=计算机系统的软件通常都有各自的日志文件。"
>
  Tweet
</a>

<script>
  window.twttr = (function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0],
    t = window.twttr || {};
  if (d.getElementById(id)) return t;
  js = d.createElement(s);
  js.id = id;
  js.src = "https://platform.twitter.com/widgets.js";
  js.async = true;
  fjs.parentNode.insertBefore(js, fjs);

  t._e = [];
  t.ready = function(f) {
    t._e.push(f);
  };

  return t;
}(document, "script", "twitter-wjs"));
</script>

  </section>
</div>


  
    
<section class="article-comment">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

<script>
  var disqus_shortname = 'drakeleung';
  
  var disqus_url = 'http://www.cauchy.me/2015/08/30/universal-event-logging/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


  
</main>

</body>
</html>
