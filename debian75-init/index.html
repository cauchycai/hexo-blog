

<meta charset="utf-8">
<title>Debian 7.5 Initialize &#8211; Thinking Aloud</title>
<meta name="description" content="">
<meta name="keywords" content="om, linux">


<meta property="og:locale" content="en_US">
<meta property="og:title" content="Debian 7.5 Initialize &#8211; Thinking Aloud">
<meta property="og:description" content="### Initialize#### Add User	# addgroup admin	# useradd -d /home/cauchy -s /bin/bash -m cauchy	# passwd cauchy	# userm...">
<meta property="og:url" content="/debian75-init">
<meta property="og:site_name" content="Thinking Aloud">


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Thinking Aloud Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Type -->
<link rel="stylesheet" href="/assets/css/google_fonts_crimson_text.css" rel='stylesheet' type='text/css' />
<link href="/assets/css/google_fonts_sans.css" rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/assets/css/entypo.css" media="all">

<!-- In order to use Calendas Plus, you must first purchase it. Then, create a font-face package using FontSquirrel.
<link rel='stylesheet' href='/assets/cal.css' media='all' />
-->



<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/i.css">

<!-- Fresh Squeezed jQuery -->

<script src="/assets/js/jquery.min.js"></script>

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>


<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">

<div id="bump">
  <body class="">
    <header class="site-header darken">
      <div class="wrap">
        <hgroup>
          <h1><a href="/">Thinking Aloud</a></h1>
        </hgroup>
        <a href="#nav" class="menu"><span class='icons'>â˜°</span></a>
        <nav role="navigation">
          <ul>
            <li>
              <a href="/" title="Thinking Aloud">Home</a>
            </li>
            
            
                <li><a href="/about" >About</a></li>
            

          </ul>
        </nav>
      </div>
    </header>


<section class="article pad-top">




      <article class="wrap post">
        <header class="post-header">
          <hgroup>
            <h1>Debian 7.5 Initialize</h1>
            <p class="date">Jun 10, 2014</p>
            <p class="intro"></p>
          </hgroup>
        </header>

        <h3 id="initialize">Initialize</h3>

<h4 id="add-user">Add User</h4>

<pre><code># addgroup admin
# useradd -d /home/cauchy -s /bin/bash -m cauchy
# passwd cauchy
# usermod -a -G admin cauchy
# visudo
</code></pre>

<h4 id="find-this-line">Find This Line</h4>

<pre><code>root ALL=(ALL:ALL) ALL 
after it add the following line
root ALL=(ALL:ALL) ALL cauchy ALL=(ALL) NOPASSWD: ALL 
</code></pre>

<h4 id="login-as-cauchy">Login as cauchy</h4>

<pre><code>$ sudo vi /etc/ssh/sshd_config
</code></pre>

<h4 id="modify-following-content">Modify Following Content</h4>

<pre><code>Protocol 2

PermitRootLogin no
PermitEmptyPasswords no
PasswordAuthentication no

RSAAuthentication yes
PubkeyAuthentication yes
AuthorizedKeysFile .ssh/authorized_keys

UseDNS no
AllowUsers cauchy
</code></pre>

<h4 id="pubkey-login">Pubkey Login</h4>

<pre><code>$ ssh -p12312 cauchy@cauchy.me 'mkdir -p .ssh &amp;&amp; cat &gt;&gt; .ssh/authorized_keys' &lt; ~/.ssh/id_rsa.pub
</code></pre>

<h4 id="login-to-cauchyme-again">Login to cauchy.me again</h4>

<pre><code>$ sudo chmod 600 ~/.ssh/authorized_keys &amp;&amp; chmod 700 ~/.ssh/
</code></pre>

<h4 id="timezone-setup">timezone setup</h4>

<pre><code>$ tzselect
$ echo "TZ='Asia/Shanghai'; export TZ" &gt;&gt; ~/.profile
$ . ~/.profile
$ sudo apt-get update
$ sudo apt-get upgrade
</code></pre>

<h3 id="install-dropbox">Install Dropbox</h3>
<pre><code>$ cd ~ &amp;&amp; wget -O - "https://www.dropbox.com/download?plat=lnx.x86_64" | tar xzf -
$ mkdir -p ~/bin &amp;&amp; wget -O ~/bin/dropbox.py "https://www.dropbox.com/download?dl=packages/dropbox.py"
</code></pre>

<h3 id="install-nginx">Install nginx</h3>

<h4 id="from-repositories">From Repositories</h4>

<pre><code>$ sudo apt-get update
$ sudo apt-get upgrade
$ sudo apt-get install nginx
</code></pre>

<h4 id="from-source-distribution">From Source Distribution</h4>

<pre><code>$ sudo apt-get update
$ sudo apt-get upgrade
$ sudo apt-get install libpcre3-dev build-essential libssl-dev
$ cd /opt/
$ sudo wget http://nginx.org/download/nginx-1.5.9.tar.gz
$ sudo tar -zxvf nginx-1.5.9.tar.gz
$ cd /opt/nginx-1.5.9/
$ sudo ./configure --prefix=/opt/nginx --user=nginx --group=nginx --with-http_ssl_module --with-ipv6
</code></pre>

<h5 id="you-should-see">You should see:</h5>

<pre><code>nginx path prefix: "/opt/nginx"
nginx binary file: "/opt/nginx/sbin/nginx"
nginx configuration prefix: "/opt/nginx/conf"
nginx configuration file: "/opt/nginx/conf/nginx.conf"
nginx pid file: "/opt/nginx/logs/nginx.pid"
nginx error log file: "/opt/nginx/logs/error.log"
nginx http access log file: "/opt/nginx/logs/access.log"
nginx http client request body temporary files: "client_body_temp"
nginx http proxy temporary files: "proxy_temp"
nginx http fastcgi temporary files: "fastcgi_temp"
nginx http uwsgi temporary files: "uwsgi_temp"
nginx http scgi temporary files: "scgi_temp"
</code></pre>

<h5 id="then">Then</h5>

<pre><code>$ sudo make
$ sudo make install
$ sudo adduser --system --no-create-home --disabled-login --disabled-password --group nginx
</code></pre>

<h4 id="create-an-init-script-to-manage-nginx">Create an Init Script to Manage Nginx</h4>

<pre><code>$ sudo wget -O init-deb.sh http://library.linode.com/assets/1538-init-deb.sh
$ sudo mv init-deb.sh /etc/init.d/nginx
$ sudo chmod +x /etc/init.d/nginx
$ sudo /usr/sbin/update-rc.d -f nginx defaults
</code></pre>

<h4 id="edit-etcinitdnginx">Edit /etc/init.d/nginx</h4>

<pre><code>DAEMON=/usr/sbin/nginx
</code></pre>

<h4 id="edit-etcnginxnginxconf">Edit /etc/nginx/nginx.conf</h4>

<pre><code>user cauchy;
</code></pre>

<h4 id="start-nginx">Start nginx</h4>

<pre><code>$ sudo service nginx start
</code></pre>

<h4 id="add-www-folder">Add www folder</h4>

<pre><code>$ sudo mkdir /var/www
$ sudo chown cauchy:cauchy /var/www
</code></pre>

<h4 id="add-virtual-host-edit-etcnginxconfdvhostsconf">Add Virtual Host, edit /etc/nginx/conf.d/vhosts.conf</h4>

<pre><code>server {
    listen 80;
    server_name cauchy.com;
    index index.html;
    root /var/www/cauchycai.github.io;
}
</code></pre>

<h3 id="install-jekyll">Install jekyll</h3>

<h4 id="install-gem">install gem</h4>

<h4 id="install-jekyll-1">install jekyll</h4>

<pre><code>$ sudo gem install jekyll
</code></pre>

<h3 id="github-config">github config</h3>

<h4 id="install-git-client">Install git client</h4>

<pre><code>$ sudo apt-get install git
$ git config --global user.email "yourname@example.com"
$ git config --global user.name "Your Name"
</code></pre>

<h4 id="make-sure-sshidrsapub-does-not-exist">Make sure .ssh/id_rsa.pub does not exist</h4>

<pre><code>$ cd ~/.ssh
$ ls -al
</code></pre>

<h4 id="generate-a-new-ssh-key">Generate a new SSH key</h4>

<pre><code>$ ssh-keygen -t rsa -C "yourname@example.com"
</code></pre>

<h4 id="copy-sshidrsapub-to-github-and-test">Copy .ssh/id_rsa.pub to github and test</h4>

<pre><code>$ ssh -T git@github.com
</code></pre>



      <a class="share" href="https://twitter.com/intent/tweet?text=&quot;Debian 7.5 Initialize&quot;%20/debian75-init%20via%20&#64;cauuuuchy" data-dnt="true">Share</a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

      

      </article>
    </section>
</div>

<div class="push"></div>
  <footer>
    <aside class="wrap">
      <ol class="prev-posts">
        <p class="list-title">Recent Posts</p>
         <!-- for1 -->
            <li>
              <span class="recent-title"><a href="/ruby-on-rails-on-debian75" title="Install Ruby on Rails on Debian 7.5">Install Ruby on Rails on De... </a></span>
              <span class="date">Jun 15, 2014</span>
            </li>
         <!-- for1 -->
            <li>
              <span class="recent-title"><a href="/debian75-init" title="Debian 7.5 Initialize">Debian 7.5 Initialize </a></span>
              <span class="date">Jun 10, 2014</span>
            </li>
         <!-- for1 -->
            <li>
              <span class="recent-title"><a href="/php-unit-test" title="phpunit notes">phpunit notes </a></span>
              <span class="date">May 13, 2014</span>
            </li>
        
      </ol>

      <div class="social">
        <ul>
            <li><a id="mail" href="mailto:cauchy.cai@gmail.com"><span class="foot-link">Contact Me</span></a></li>

            
            <li><a id="twit" href="http://twitter.com/cauuuuchy" target="_blank"><span class="foot-link">@cauuuuchy</span></a></li>
            


            
        </ul>
    </div>
    </aside>
    <small>&copy; 2014 Cauchy Cai. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://jekyll.gtat.me/about">Balzac</a> theme.</small>
  </footer>

  <!-- If they're out, get some from the cellar -->
  <script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
  <script src="/assets/js/retina.min.js"></script>

  <!-- Custom JS -->
  <script src="/assets/js/scripts.js"></script>


  </body>
</html>

